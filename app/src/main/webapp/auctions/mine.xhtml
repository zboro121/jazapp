<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jstl/core"
      xml:lang="pl" lang="pl">
<h:head>
    <title>My auctions</title>
</h:head>
<h:body>
    <ui:composition template = "../layout/layout.xhtml">
        <ui:define name="content">
            <div class="form-base">
                <h2>My auctions</h2>
                <table>
                    <tr>
                        <td>Photo</td>
                        <td>Title</td>
                        <td>Description</td>
                        <td>Owner</td>
                        <td>Edit</td>
                    </tr>
                    <c:forEach items="#{auctionController.userAuctions}" var="userAuction">
                            <tr>
                                <td>
                                    <h:graphicImage id="photo-#{userAuction.id}" value="#{userAuction.photos.get(0).url}" alt="Photo1" style="width: 100px; height: 100px"/>
                                </td>
                                <td>
                                    <h:outputText id="title-#{userAuction.id}" value="#{userAuction.title}"/>
                                </td>
                                <td>
                                    <h:outputText id="description-#{userAuction.id}" value="#{userAuction.description}"/>
                                </td>
                                <td>
                                    <h:outputText id="owner-#{userAuction.id}" value="#{userAuction.owner.username}"/>
                                </td>
                                <td>
                                    <h:link id="edit-#{userAuction.id}" value="Edit" outcome="/auctions/edit">
                                        <f:param name="auctionId" value="#{userAuction.id}"/>
                                    </h:link>
                                </td>
                            </tr>
                    </c:forEach>
                </table>
            </div>
        </ui:define>
    </ui:composition>
</h:body>
</html>